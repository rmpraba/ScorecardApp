<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="employe-schooltype-to-category-item-card">
  <template>
    <style>
      :host {
        display: block;
      }
      .outcard{
      /*@apply(--layout-horizontal);  
      margin-left: 10%;*/
       @apply(--layout-horizontal);
      margin-left:7.0em;
      width:100%
     }
    </style>
    <div>
     <div>
    <paper-checkbox on-change="fnschooltypeget11" id="{{schooltypeidxx}}">{{schooltypenamexx}}</paper-checkbox>
    </div>
     <iron-ajax        
        id="empgetteacherschooltypeajax"
        url="{{empgetteacherschooltypeurl}}"
        params="{{empgetteacherschooltypeparam}}"
        handle-as="json"
        content-type="application/json"
        method="post"
        on-response="empgetteacherschooltypeResponse"
        debounce-duration="300">
     </iron-ajax>
  </div>
  </template>
  <script>   
  (function() {
    'use strict';

    Polymer({
      is: 'employe-schooltype-to-category-item-card',
      fnschooltypeget11:function(e)
      {
       if(document.querySelector('#'+this.schooltypeidxx).checked==true)
       {
          sessionStorage.setItem("curr_sess_loggedschooltype_ids",this.schooltypeidxx);
          this.empgetteacherschooltypeurl=sessionStorage.getItem("addrinfo")+"/empgetschooltype11-service";
          var obj={"schooltypeid":"","school_id":""};
          obj.school_id=sessionStorage.getItem("curr_sess_loggedschoolid");
          obj.schooltypeid=this.schooltypenamexx;
          this.empgetteacherschooltypeparam=obj;
            alert(JSON.stringify(obj));
          this.$.empgetteacherschooltypeajax.generateRequest();
        }
      }, 
      empgetteacherschooltypeResponse:function(e)
      {
       // alert('1');
        var res=e.detail.response.returnval;
        alert(JSON.stringify(res));
        document.querySelector('employe-schooltype-to-category-card').getgrade(res);
      }
      
     });
  })();
  </script>
</dom-module>
