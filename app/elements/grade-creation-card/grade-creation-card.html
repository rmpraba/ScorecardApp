
<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu-light/paper-dropdown-menu-light.html">

<dom-module id="grade-creation-card">
  <template>
    <style>
      :host
      {
         margin-left: 10%;
        display: block;
         @apply(--layout-center);
        /*width: 40%;*/
      }
      .card
      {
         @apply(--layout-center);
        width: 70%;
        margin-left: 10%;
      }
      .title
      {
        @apply(--layout-center);
        width: 30%;
        margin-left: 29%; 
      }
      .gbutton paper-button
      {
      background-color: #363636;
      color: #ffffff;
      width: 10%;
      margin-left: 40%;
      margin-top: 5%;
      }
      .button paper-button
      {
      background-color: #363636;
      color: #ffffff;
      width: 10%;
      margin-left: 40%;
      margin-top: 6%;
      }
       .grade
      {
        margin-top:3%;
        width: 50%;
      }  
      
    </style>

     <div class="title"> 
    <h3>MASTER GRADE CREATION</h3>
    </div>
    
    <div class="gbutton">
    <paper-button on-click="Fncreate">Create</paper-button>
    </div>

     <div class="grade">
    <template is="dom-repeat" items="{{gradearr}}" as="g">
    <grade-display-card gradeid="{{g.grade_id}}" gradename="{{g.grade_name}}" hidegradenameinput="true" hidegradenameitem="false"> </grade-display-card>
    </div>
    </template>

    <paper-dialog id="gradedialog" modal>
    <div class="card"> 
    <paper-input readonly value="{{gradeid}}" label="Grade ID"></paper-input>
    <paper-input value="{{gradename}}" label="Grade Name"></paper-input>
    </div>

    <div class="buttons">
    <paper-button autofocus on-click="FnSubmit">Submit </paper-button>
    <paper-button  dialog-confirm autofocus>close </paper-button>
    </div>
    </paper-dialog>

    <master-ui-service id="uiservice"></master-ui-service>
     
   </template>
   <script>
   (function() {
    'use strict';
     Polymer({
      is: 'grade-creation-card',

      properties: {
        foo: {
          type: String,
          value: 'grade-creation-card',
          notify: true
        }
      },

      ready:function()
      {
        //alert("hii");        
        this.gradename="Grade-";
        this.$.uiservice.FnFetchGrade();
        this.$.uiservice.FnFetchGradeSeq();
        this.$.hidenewgradecreationcard=true;  
      },

      /* FnRefresh:function()
      {     
       this.gradename="";      
      }, */
      FnSubmit:function()
      {
        if(this.gradename==null || this.gradename=="")
        {
          alert("please enter Grade name before save");
        }
        else
        {  
        this.$.uiservice.FnSetGradeCreationInfo(this.gradeid,this.gradename);
        this.ready();
        //document.querySelector('grade-creation-card').FnRefresh();
        }
        
      },
      Fncreate:function()
      {
        this.$.gradedialog.open();
      }
     
    });
  })();

  </script>
</dom-module>

