<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="master-school_type-creation">
  <template>
    <style>
      :host {
        display: block;
      }
    </style>
      <div class="title"> 
    <h3>SCHOOLTYPE CREATION TO GRADE MAPPING</h3>
    </div>
    <div class="cbutton">
    <paper-button on-click="Fncreate">Create </paper-button>
    </div>
    <div class="school">
   <template is="dom-repeat" items="{{setschooltypeinfoarr}}" as="s">
   <master-school-type-creation-item-card  schoolid="{{s.school_id}}" schooltypename="{{s.school_type_name}}" schooltypeid="{{s.school_type_id}}" hideschooltypenameinput="true" hideschooltypenameitem="false">      
    </master-school-type-creation-item-card>
    </div>
    </template>
     <paper-dialog id="schooldialog" modal>
     <div class="card">                                                    
       <paper-input value="{{schoolname}}" label="Schooltype name"></paper-input>  
        <paper-dropdown-menu  label="Select School Type">
            <paper-menu id="schooltypename" class="dropdown-content"   on-iron-select="schoolTypeName">
              <template is="dom-repeat" items="{{SchoolToschoolTypearr}}">
                <paper-item value="{{item.school_type_id}}">{{item.school_type_name}}</paper-item>
              </template>    
            </paper-menu>
        </paper-dropdown-menu>
    </div>
    <div class="buttons">
    <paper-button autofocus on-click="FnSubmit">Submit</paper-button>
    <paper-button dialog-confirm autofocus>Close </paper-button>
    </div>
    </paper-dialog>
    <master-ui-service id="service"></master-ui-service>
  
</template>
  <script>
  (function() {
    'use strict';

    Polymer({
      is: 'master-school_type-creation',
      /*ready:function()
      {
       this.$.hidenewschooltypecard=true;
      }, */
     schoolTypeName:function(e)
      {  
        this.schooltypeid=e.target.selectedItem.value;
        this.schooltypes=e.target.selectedItem.textContent.trim();
      },
      FnSubmit:function()
      {
         this.$.service.insertschoolTypename(this.schooltypes,this.schooltypeid,this.schoolid);     
      },
       Fncreate:function()
        {
          this.schoolid=sessionStorage.getItem("curr_sess_loggedschoolid");
         this.schoolname=sessionStorage.getItem("curr_sess_loggedschoolname");
    
          this.$.schooldialog.open(); 
        } 
    
    });
  })();
  </script>
</dom-module>
