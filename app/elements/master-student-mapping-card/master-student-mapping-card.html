<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->

<link rel="import" href="..\..\bower_components/polymer/polymer.html">

<dom-module id="master-student-mapping-card">
  <template>
    <style>
      :host {
        display: block;
      }
   .inputelements{
    display: inline-block;
    padding: 0 7px;
    margin: 3%;   
  }   
    </style>
       <div><CENTER><h2 style="color:#162BA3;">GRADETOSECTIONMAPPING</h2></CENTER></div>

              <paper-input value="{{sectionSchoolid}}" hidden></paper-input>
              <paper-input value="{{sectionSchoolname}}"></paper-input>
             
           <paper-checkbox on-change="gradecolapse1" style="color:blue;">Pre-Primary</paper-checkbox>
             <iron-collapse id="collapse1id">
               <template is="dom-repeat" items="{{sectionpre}}">

                  <master-student-mapping-item-card sectionGradetype="{{item.school_type}}" sectiongradeid="{{item.grade_id}}" sectiongradename="{{item.grade_name}}"> </master-student-mapping-item-card>

               </template>
           </iron-collapse>
               <paper-checkbox on-change="gradecolapse2"  style="color:blue;">Primary</paper-checkbox>
             <iron-collapse id="collapse2id">

                <template is="dom-repeat" items="{{sectionprimary}}">
                     <master-student-mapping-item-card sectionGradetype="{{item.school_type}}" sectiongradeid="{{item.grade_id}}" sectiongradename="{{item.grade_name}}">     </master-student-mapping-item-card>
            </template>
             </iron-collapse>

               <paper-checkbox on-change="gradecolapse3"  style="color:blue;">secondry</paper-checkbox>
             <iron-collapse id="collapse3id">

              <template is="dom-repeat" items="{{sectionsecondry}}">
                     <master-student-mapping-item-card sectionGradetype="{{item.school_type}}" sectiongradeid="{{item.grade_id}}" sectiongradename="{{item.grade_name}}">     </master-student-mapping-item-card>
            </template>

             </iron-collapse>
               <paper-checkbox on-change="gradecolapse4" style="color:blue;">High-secondry</paper-checkbox>
             <iron-collapse id="collapse4id">
            <template is="dom-repeat" items="{{sectionhigh}}">
            <master-student-mapping-item-card sectionGradetype="{{item.school_type}}" sectiongradeid="{{item.grade_id}}" sectiongradename="{{item.grade_name}}"> </master-student-mapping-item-card>

            </template>
            </iron-collapse>
             <paper-button on-click="fnsubmit" style="background-color:#384485;color:white;">Submit</paper-button></br>
                
      <span class="inputelements">
      <div></div>

       </span>      
   <master-ui-service id="uiservice"></master-ui-service>
  </template>
  <script>
  (function() {
    'use strict';
   var setallarr=[];
    Polymer({
      is: 'master-student-mapping-card',
        
        MasterCategory:function(e){
            this.subjecttypeid=e.target.selectedItem.value;
            this.$.uiservice.mastersubjectSelection(this.subjecttypeid);
          //  alert(this.subjecttypeid);
        },
        GradetoSubjectName:function(e){
           this.mastergradeid=e.target.selectedItem.value;
           this.subjecttypevalue=e.target.selectedItem.textContent.trim();
           //alert(this.mastergradeid+ this.subjecttypevalue);
         //alert(this.mastergradeid);
        },
       gradecolapse1:function(e){
         this.$.collapse1id.toggle();
        },
          gradecolapse2:function(e){
         this.$.collapse2id.toggle();
        },
       gradecolapse3:function(e){
         this.$.collapse3id.toggle();
        },
       gradecolapse4:function(e){
         this.$.collapse4id.toggle();
        },
      FngetGradedetails:function(arr){
        setallarr=arr;
       },
       fnsubmit:function(){ 
        alert("hi");
    /*       alert(this.subjecttypeid+this.mastergradeid+this.subjecttypevalue);
           this.$.uiservice.FnmasterSubjectTomapping(this.subjecttypeid+this.mastergradeid+this.subjecttypevalue);
    */ 
      alert(JSON.stringify(setallarr));
     this.$.uiservice.FnmasterSubjectTomapping(setallarr)   
  }


    });
  })();
  </script>
</dom-module>
