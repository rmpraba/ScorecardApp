

<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu-light/paper-dropdown-menu-light.html">


<dom-module id="role-card">
  <template>
    <style>
      :host
      {
         margin-left: 10%;
         display: block;
         @apply(--layout-left);
        /*width: 50%;*/
      }
      }

      .card
      {
         @apply(--layout-center);
        width: 10%;
        margin-left: 10%;
      }

      .title
      {
        @apply(--layout-center);
        width: 100%;
        margin-left: 28%; 
      }

       .creatediv paper-button
      {
      background-color: #363636;
      color: #ffffff;
      width: 7%;
      margin-left: 44%;
      margin-top: 3%;
      }

      .buttons paper-button
      {
        /*@apply(--layout-center);*/
        @apply(--layout-right);
      background-color: #363636;
      color: #ffffff;                
      width: 10%;
      margin-top: 4%;
      }

      .role
      {
        margin-top:3%;
        margin-left:30%;
        width: 20%;
      }  

      .popup-but
      {
        margin: 0 auto;
        @apply(--layout-right)
      }

      table
      {
         border-collapse: collapse;
         border: 1px solid #dedede;
         padding: 10px;
         width: 90%;
      }
      .outcard
       {
         @apply(--layout-horizontal);
       }

      .creatediv
       {
          border-radius: 10px;
          border: 1px solid #6699ff;
          padding: 15px; 
          width: 30%;
          max-height: 240px;
          /*height: 150px; */
       }

    </style>

    <div class="title"> 
        <h3><b>ROLE</b></h3>
    </div>

    <div class="outcard">
        <div>
            <table>
              <tr>
                <th><label>Role ID</label></th>
                <th><label style="margin-left:4%">Role Name</label></th>
                <th></th>
              </tr>
              <template is="dom-repeat" items="{{rolearr}}" as="r">  
                <tr><td colspan="3">
                <role-display-card  rolename="{{r.role_name}}" roleid="{{r.id}}" hiderolenameinput="true" hiderolenameitem="false">
                </role-display-card></td>
                </tr>
              </template>    
            </table>
        </div>

        <div class="creatediv">
          <div class="card">
              <label>Create New Role</label>
            <paper-input style="width:68%" value="{{rolename}}" label="Role Name"></paper-input>
          </div>

           <div class="buttons">
            <paper-button class="popup-btn">Submit</paper-button>    
          </div>    
        </div>
    </div>  

      <master-ui-service id="uiservice"></master-ui-service>  

 </template>

  <script>
  (function() {
    'use strict';
    Polymer({
      is: 'role-card',
      ready:function()
      {
        //alert("test");
        this.$.uiservice.FnFetchRole();
        this.$.hidenewrolecard=true;
      },  
      FnRefresh:function()
      {
       this.rolename="";        
      },  
      
      FnSubmit:function()
      {                      
         if(this.rolename==null||this.rolename=="")
         {
          alert('Please enter rolename before save!!');
         }
         else 
         {
          //alert("test");
         var roleid = (this.rolename).toLowerCase(); 
         //alert("hi"); 
               
         //alert("hi2");
         //alert(roleid);
         this.$.uiservice.FnSetRoleInfo(this.rolename,roleid);
         document.querySelector('role-card').FnRefresh(); 
         //this.$.roledialog.toggle();
       }    
      } 
     /* 
      Fncreate:function()
      {
         this.$.roledialog.open();
     }
     */
    });
  })();
  </script>
</dom-module>
