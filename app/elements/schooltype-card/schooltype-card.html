
<link rel="import" href="..\..\bower_components/polymer/polymer.html">
<link rel="import" href="..\..\bower_components/paper-input/paper-input.html">
<link rel="import" href="../../bower_components/paper-button/paper-button.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu/paper-dropdown-menu.html">
<link rel="import" href="../../bower_components/iron-icons/maps-icons.html">
<link rel="import" href="../../bower_components/paper-dropdown-menu-light/paper-dropdown-menu-light.html">


<dom-module id="schooltype-card">
  <template>
    <style>
      :host
      {
         margin-left: 10%;
         display: block;
         @apply(--layout-center);
         /*width: 30%;*/
      }
      
      .schooltypecard
      {
         @apply(--layout-center);
        width: 60%;
        margin-left: 8%;
      } 

      .title
      {
        @apply(--layout-center);
         
          width: 250%;
          margin-left: 27%;
      }

      .cbutton paper-button
      {
      background-color: #363636;
      color: #ffffff;
      width: 10%;
      margin-left: 38%;
      margin-top: 3%;
      }

      
      .buttons paper-button
      {
        @apply(--layout-center);
      background-color: #363636;    
      color: #ffffff;
      width: 10%;
      margin-top: 4%;
      }

       .school
      {
        margin-top: 3%;
        margin-left:27%;
        width: 50%;
        
      }

      #schooldialog
      {
        width: 40%;
        margin: 0 auto;
        box-shadow: 0px 0px 14px -1px rgba(0,0,0,0.75);
      }

      .popup-btn
      {
        margin: 0 auto;
      }

      .iron-close
      {
        position: absolute;
        top: 20px;
        right: 20px;
      }


    </style>


    <div class="title"> 
    <h3>MASTER SCHOOLTYPE CREATION</h3>
    </div>
    <div class="cbutton">
    <paper-button on-click="Fncreate">Create </paper-button>
    </div>

   <div class="school">
   <template is="dom-repeat" items="{{schoolarr}}" as="s">
   <schooltype-display-card   schooltypename="{{s.school_type_name}}" schooltypeid="{{s.school_type_id}}" hideschooltypenameinput="true" hideschooltypenameitem="false">      
    </schooltype-display-card>
    </div>
    </template>

     <paper-dialog id="schooldialog" modal>

     <div class="card">   
      <iron-icon dialog-dismiss class="iron-close" icon="icons:close"></iron-icon>
       <paper-input value="{{schooltypename}}" label="Schooltype name"></paper-input>           
    </div>

    <div class="buttons">
    <paper-button class="popup-btn" on-click="FnSubmit">Submit </paper-button>
    </div>
    </paper-dialog>


    <master-ui-service id="service"></master-ui-service>
    

  </template>

  <script>
  (function() 
  {
    'use strict';
    //var schooltypes="";
    Polymer({
      is: 'schooltype-card',
      ready:function()
      {
        //alert("test");
        
        this.$.service.FnFetchSchooltypename();
        this.$.hidenewschooltypecard=true;
      }, 
     
       FnRefresh:function()
      {
         this.schooltypename="";
            
      },
      /*FnSelectSchooltypename:function(e)
      {
        //alert("test");       
        schooltypes = e.target.selectedItem.textContent.trim();
        localStorage.setItem("curr_sess_school_type_name",schooltypes);               
      },*/  
     
      FnSubmit:function()
      {

        if(this.schooltypename==null || this.schooltypename=="")
        {          
          alert("Please enter schooltypename befor submit");
        }
        else
        { 
        var schooltypeid = (this.schooltypename).toLowerCase();
        //alert(this.schoolname);
        //alert(this.schoolid);
        //alert(this.schooltypename);
        //alert(schooltypeid);
        this.$.service.FnSetSchooltypeInfo(this.schooltypename,schooltypeid);        
        //document.querySelector('schooltype-card').FnRefresh();
        this.$.schooldialog.toggle();
        }
      },
      

        Fncreate:function()
        {
          this.$.schooldialog.open();   
      }  
    });
  })();
  </script>
</dom-module>
